<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    
    <title>Archives: 2022/9 | Jelly&#39;s TechBlog</title>
    <meta name="keywords" content="hexo,theme,otakism,otaku"/>
    <meta name="HandheldFriendly" content="True"/>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="google-site-verification" content=""/>
    <meta name="baidu-site-verification" content=""/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta property="og:type" content="website">
<meta property="og:title" content="Jelly&#39;s TechBlog">
<meta property="og:url" content="http://example.com/archives/2022/09/index.html">
<meta property="og:site_name" content="Jelly&#39;s TechBlog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Jelly Chan">
<meta name="twitter:card" content="summary">
    

    <!-- Favicon -->
    

    <!-- Font -->
    <link href="https://fonts.googleapis.com/css?family=Inconsolata|Roboto:300,400,700" rel="stylesheet">

    
<link rel="stylesheet" href="/style.css">

    <script>
      function setLoadingBarProgress(num) {
        document.getElementById('loading-bar').style.width = num + "%";
      }
    </script>

    


<meta name="generator" content="Hexo 6.2.0"></head>

<body>

<div id="loading-bar-wrapper">
  <div id="loading-bar"></div>
</div>

<script>setLoadingBarProgress(20)</script>

<div id="site-wrapper">

    <header id="header">
    <div id="header-wrapper" class="clearfix">
        <a id="logo" href="/">
            <img src="/img/logo.png"/>
            <span id="site-desc">
                otaku keeps alive
            </span>
        </a>
        <button id="site-nav-switch">
            <span class="icon icon-menu"></span>
        </button>
    </div>
</header>
    <script>setLoadingBarProgress(40);</script>

    <main id="main" role="main">
        
    


  <section class="page-header archive">
    <h1>- <span>2022.9</span> -</h1>
  </section>




<section class="post-list">
  
    <article class="post ">

    
        <h2 class="title">
            <a href="/2022/09/18/Design-and-Development-Principles-SOLID/">
                Design and Development Principles:SOLID
            </a>
        </h2>
    
    <time>
        Sep 18, 2022
    </time>
    <section class="content">
        <p>The SOLID Principles are:</p>
<ul>
<li>The Single-Responsibility Principle (SRP)</li>
<li>The Open-Closed Principle (OCP)</li>
<li>The Liskov Substitution Principle (LSP)</li>
<li>The Interface Segregation Principle (ISP)</li>
<li>The Dependency inversion Principle (DIP)</li>
</ul>
<h2><span id="1the-single-responsibility-principle-srp">1)The Single-responsibility principle (SRP)</span></h2><p>  <em>Every component of your code (in general a class, but also a function) should have one and only one responsibility. As a consequence of that, there should be only a reason to change it.</em></p>
<h3><span id="wrong">wrong×</span></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">class Animal:</span><br><span class="line">    def __init__(self, name: str):</span><br><span class="line">        self.name = name</span><br><span class="line">    </span><br><span class="line">    def get_name(self) -&gt; str:</span><br><span class="line">        pass</span><br><span class="line"></span><br><span class="line">    def save(self, animal: Animal):</span><br><span class="line">        pass</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>Here Animal class violates the SRP. Since <em>save</em> response to the database management while <em>get_name</em> manage the properties.<br><em>If the application changes in a way that it affects database management functions. The classes that make use of Animal properties will have to be touched and recompiled to compensate for the new changes.</em></p>
<h3><span id="correct">correct✔</span></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">class Animal:</span><br><span class="line">    def __init__(self, name: str):</span><br><span class="line">            self.name = name</span><br><span class="line">    </span><br><span class="line">    def get_name(self):</span><br><span class="line">        pass</span><br><span class="line">class AnimalDB:</span><br><span class="line">    def get_animal(self) -&gt; Animal:</span><br><span class="line">        pass</span><br><span class="line"></span><br><span class="line">    def save(self, animal: Animal):</span><br><span class="line">        pass</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2><span id="2-the-openclosed-principle-ocp">2) The Open–closed principle (OCP)</span></h2><p> <em>Software entities(Classes, modules, functions) should be open for extension, not modification.</em></p>
<h3><span id="wrong">wrong×</span></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">class Animal:</span><br><span class="line">    def __init__(self, name: str):</span><br><span class="line">        self.name = name</span><br><span class="line">    </span><br><span class="line">    def get_name(self) -&gt; str:</span><br><span class="line">        pass</span><br><span class="line"></span><br><span class="line">animals = [</span><br><span class="line">    Animal(&#x27;lion&#x27;),</span><br><span class="line">    Animal(&#x27;mouse&#x27;)</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">def animal_sound(animals: list):</span><br><span class="line">    for animal in animals:</span><br><span class="line">        if animal.name == &#x27;lion&#x27;:</span><br><span class="line">            print(&#x27;roar&#x27;)</span><br><span class="line"></span><br><span class="line">        elif animal.name == &#x27;mouse&#x27;:</span><br><span class="line">            print(&#x27;squeak&#x27;)</span><br><span class="line"></span><br><span class="line">animal_sound(animals)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>Here <em>animal_sound</em> function violates the OCP.<br>Each time we want to add a new sound for a new kind of animal, we have to modificate this function, and add a elif statement to it.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">class Animal:</span><br><span class="line">    def __init__(self, name: str):</span><br><span class="line">        self.name = name</span><br><span class="line">    </span><br><span class="line">    def get_name(self) -&gt; str:</span><br><span class="line">        pass</span><br><span class="line"></span><br><span class="line">    def make_sound(self):</span><br><span class="line">        pass</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class Lion(Animal):</span><br><span class="line">    def make_sound(self):</span><br><span class="line">        return &#x27;roar&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class Mouse(Animal):</span><br><span class="line">    def make_sound(self):</span><br><span class="line">        return &#x27;squeak&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class Snake(Animal):</span><br><span class="line">    def make_sound(self):</span><br><span class="line">        return &#x27;hiss&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def animal_sound(animals: list):</span><br><span class="line">    for animal in animals:</span><br><span class="line">        print(animal.make_sound())</span><br><span class="line"></span><br><span class="line">animal_sound(animals)</span><br></pre></td></tr></table></figure>

<p>Here we use inheritance in Python. Now, if we add a new animal, animal_sound doesn’t need to change.<br>All we need to do is add the new animal to the animal array.</p>
<p><strong>NOTE : Different in py2&#x2F;py3:</strong></p>
<ul>
<li>In Python 3.x, “class Test(object)” and “class Test” are same. </li>
<li>In Python 2. x, “class Test(object)” creates a class with the object as a parent (called a new-style class), and “class Test” creates an old-style class (without an objecting parent).</li>
</ul>
<p>More information about inheritance in python see [TODO:link]</p>
<h2><span id="3-liskov-substitution-principle-lsp">3) Liskov Substitution Principle (LSP)</span></h2><p>A sub-class must be substitutable for its super-class.<br>The aim of this principle is to ascertain that a sub-class can assume the place of its super-class without errors.<br>If the code finds itself checking the type of class then, it must have violated this principle.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">def animal_leg_count(animals: list):</span><br><span class="line">    for animal in animals:</span><br><span class="line">        if isinstance(animal, Lion):</span><br><span class="line">            print(lion_leg_count(animal))</span><br><span class="line">        elif isinstance(animal, Mouse):</span><br><span class="line">            print(mouse_leg_count(animal))</span><br><span class="line">        elif isinstance(animal, Pigeon):</span><br><span class="line">            print(pigeon_leg_count(animal))</span><br><span class="line">        </span><br><span class="line">animal_leg_count(animals)</span><br></pre></td></tr></table></figure>

<p>Here we check the animal type. So it violated the LSP. To change that, we should implement <em>leg_count</em> for each sub-class.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">class Animal:</span><br><span class="line">    def leg_count(self):</span><br><span class="line">        pass</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class Lion(Animal):</span><br><span class="line">    def leg_count(self):</span><br><span class="line">        pass</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>Then we can ignore the subclass type name in <em>animal_leg_count</em>.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">def animal_leg_count(animals: list):</span><br><span class="line">    for animal in animals:</span><br><span class="line">        print(animal.leg_count())</span><br><span class="line">        </span><br><span class="line">animal_leg_count(animals)</span><br></pre></td></tr></table></figure>


<h2><span id="4-interface-segregation-principle-isp">4) Interface Segregation Principle (ISP)</span></h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">class IShape:</span><br><span class="line">    def draw_square(self):</span><br><span class="line">        raise NotImplementedError</span><br><span class="line">    </span><br><span class="line">    def draw_rectangle(self):</span><br><span class="line">        raise NotImplementedError</span><br><span class="line">    </span><br><span class="line">    def draw_circle(self):</span><br><span class="line">        raise NotImplementedError</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>clients(for example: square) will have to implement rectangle or circle which  has not used of.</p>
<ul>
<li>ISP states that interfaces should perform only one job (just like the SRP principle) any extra grouping of behavior should be abstracted away to another interface.*</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">class IShape:</span><br><span class="line">    def draw(self):</span><br><span class="line">        raise NotImplementedError</span><br><span class="line"></span><br><span class="line">class Circle(IShape):</span><br><span class="line">    def draw(self):</span><br><span class="line">        pass</span><br><span class="line"></span><br><span class="line">class Square(IShape):</span><br><span class="line">    def draw(self):</span><br><span class="line">        pass</span><br><span class="line"></span><br><span class="line">class Rectangle(IShape):</span><br><span class="line">    def draw(self):</span><br><span class="line">        pass</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h2><span id="5-dependency-inversion-principle-dip">5) Dependency Inversion Principle (DIP)</span></h2><ul>
<li>High-level modules should not depend upon low-level modules. Both should depend upon abstractions.</li>
<li>Abstractions should not depend on details. Details should depend upon abstractions.</li>
</ul>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">class XMLHttpService(XMLHttpRequestService):</span><br><span class="line">    pass</span><br><span class="line"></span><br><span class="line">class Http:</span><br><span class="line">    def __init__(self, xml_http_service: XMLHttpService):</span><br><span class="line">        self.xml_http_service = xml_http_service</span><br><span class="line">    </span><br><span class="line">    def get(self, url: str, options: dict):</span><br><span class="line">        self.xml_http_service.request(url, &#x27;GET&#x27;)</span><br><span class="line"></span><br><span class="line">    def post(self, url, options: dict):</span><br><span class="line">        self.xml_http_service.request(url, &#x27;POST&#x27;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>The Http class should care less the type of Http service you are using. We make a Connection interface:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">class Connection:</span><br><span class="line">    def request(self, url: str, options: dict):</span><br><span class="line">        raise NotImplementedError</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>The Connection interface has a request method. With this, we pass in an argument of type Connection to our Http class:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">class Http:</span><br><span class="line">    def __init__(self, http_connection: Connection):</span><br><span class="line">        self.http_connection = http_connection</span><br><span class="line">    </span><br><span class="line">    def get(self, url: str, options: dict):</span><br><span class="line">        self.http_connection.request(url, &#x27;GET&#x27;)</span><br><span class="line"></span><br><span class="line">    def post(self, url, options: dict):</span><br><span class="line">        self.http_connection.request(url, &#x27;POST&#x27;)</span><br></pre></td></tr></table></figure>
<p>So now, no matter the type of Http connection service passed to Http it can easily connect to a network<br>without bothering to know the type of network connection.<br>We can now re-implement our XMLHttpService class to implement the Connection interface:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">class XMLHttpService(Connection):</span><br><span class="line">    xhr = XMLHttpRequest()</span><br><span class="line"></span><br><span class="line">    def request(self, url: str, options:dict):</span><br><span class="line">        self.xhr.open()</span><br><span class="line">        self.xhr.send()</span><br></pre></td></tr></table></figure>
<p>Now, we can see that both high-level modules and low-level modules depend on abstractions.<br>Http class(high level module) depends on the Connection interface(abstraction) and<br>the Http service types(low level modules) in turn, depends on the Connection interface(abstraction).<br>Also, this DIP will force us not to violate the Liskov Substitution Principle:<br>The Connection types Node-XML-MockHttpService are substitutable for their parent type Connection.</p>
<h1><span id="source">Source</span></h1><ul>
<li><a target="_blank" rel="noopener" href="https://towardsdatascience.com/solid-coding-in-python-1281392a6a94">https://towardsdatascience.com/solid-coding-in-python-1281392a6a94</a></li>
<li><a target="_blank" rel="noopener" href="https://gist.github.com/dmmeteo/f630fa04c7a79d3c132b9e9e5d037bfd">https://gist.github.com/dmmeteo/f630fa04c7a79d3c132b9e9e5d037bfd</a></li>
</ul>
<h3><span id="if-there-is-any-infringement-please-let-me-know-and-i-will-delete-it-immediately"><em><strong>If there is any infringement, please let me know and I will delete it immediately.</strong></em></span></h3>

        

        
            <div class="tags">
                <a class="tag-none-link" href="/tags/Design/" rel="tag">Design</a><a class="tag-none-link" href="/tags/Development/" rel="tag">Development</a><a class="tag-none-link" href="/tags/Python/" rel="tag">Python</a>
            </div>
        

    </section>
</article>
  
    <article class="post ">

    
        <h2 class="title">
            <a href="/2022/09/17/leetcode238/">
                leetcode238
            </a>
        </h2>
    
    <time>
        Sep 17, 2022
    </time>
    <section class="content">
        <h1><span id="leetcode238-product-of-array-except-self">Leetcode238. Product of Array Except Self</span></h1><p> <a target="_blank" rel="noopener" href="https://leetcode.cn/problems/product-of-array-except-self/">leetcode link</a></p>
<h2><span id="record-in-2022x2f9x2f17">record in 2022&#x2F;9&#x2F;17</span></h2><p> We can use two array to save the prefix product and postfix product seperately. And do the dot product of two array. It takes O(n) in time and O(n) in space. To optimize the space complexity, we can save the prefix product result in our result array and then do the postfix product. </p>
<h2><span id="code-edtion-2022x2f9x2f17-tx2fsonx2fon">code edtion: 2022&#x2F;9&#x2F;17  T&#x2F;S(O(n)&#x2F;O(n))</span></h2> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">class Solution:</span><br><span class="line">   def productExceptSelf(self, nums: List[int]) -&gt; List[int]:</span><br><span class="line">       prefix=[1]*len(nums)</span><br><span class="line">       postfix=[1]*len(nums)</span><br><span class="line">       pre=1</span><br><span class="line">       for i in range(1,len(nums)):</span><br><span class="line">           prefix[i]=pre*nums[i-1]</span><br><span class="line">           pre=pre*nums[i-1]</span><br><span class="line">       pre=1</span><br><span class="line">       for i in range(len(nums)-2,-1,-1):</span><br><span class="line">           postfix[i]=pre*nums[i+1]</span><br><span class="line">           pre=pre*nums[i+1]</span><br><span class="line">       res=[]</span><br><span class="line">       for i in range(len(nums)):</span><br><span class="line">           res.append(prefix[i]*postfix[i])</span><br><span class="line">       return res</span><br></pre></td></tr></table></figure>

        

        
            <div class="tags">
                <a class="tag-none-link" href="/tags/Array/" rel="tag">Array</a><a class="tag-none-link" href="/tags/Prefix-Sum/" rel="tag">Prefix Sum</a>
            </div>
        

    </section>
</article>
  
    <article class="post ">

    
        <h2 class="title">
            <a href="/2022/09/12/leetcode455/">
                leetcode455
            </a>
        </h2>
    
    <time>
        Sep 12, 2022
    </time>
    <section class="content">
        <h1><span id="leetcode455-assign-cookies">Leetcode455. Assign Cookies</span></h1><p> <a target="_blank" rel="noopener" href="https://leetcode.cn/problems/assign-cookies/">leetcode link</a></p>
<h2><span id="record-in-2022x2f9x2f12">record in 2022&#x2F;9&#x2F;12</span></h2><p> Greedy: result can be calculated by getting local optimum. The local optimum here means we have to feed the big kid(instead of small kid) with big biscuit.</p>
<p> This can be proved strictly. See <a target="_blank" rel="noopener" href="https://leetcode.cn/problems/assign-cookies/solution/fen-fa-bing-gan-by-leetcode-solution-50se/">link</a></p>
<p>The algorithm followed:</p>
<ul>
<li>sorted the two array </li>
<li>set up a pointer for the biscuit array</li>
<li>go through each kid in kid array</li>
<li>move pointer based on the kid value</li>
</ul>
<h2><span id="code-edtion-2022x2f9x2f12">code edtion: 2022&#x2F;9&#x2F;12</span></h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">class Solution:</span><br><span class="line">    def findContentChildren(self, g: List[int], s: List[int]) -&gt; int:</span><br><span class="line">        g=sorted(g)</span><br><span class="line">        s=sorted(s)</span><br><span class="line">        j=0</span><br><span class="line">        res=0</span><br><span class="line">        for item in g:</span><br><span class="line">            while(j&lt;len(s) and item&gt;s[j]):</span><br><span class="line">                j+=1</span><br><span class="line">            if(j&lt;len(s)):</span><br><span class="line">                res+=1</span><br><span class="line">                j+=1</span><br><span class="line">        return res</span><br></pre></td></tr></table></figure>

        

        
            <div class="tags">
                <a class="tag-none-link" href="/tags/Array/" rel="tag">Array</a><a class="tag-none-link" href="/tags/Greedy/" rel="tag">Greedy</a>
            </div>
        

    </section>
</article>
  
    <article class="post ">

    
        <h2 class="title">
            <a href="/2022/09/11/GDB-tool/">
                GDB tool
            </a>
        </h2>
    
    <time>
        Sep 11, 2022
    </time>
    <section class="content">
        <table>
<thead>
<tr>
<th align="left">命令</th>
<th align="right">功能</th>
<th align="center">备注</th>
</tr>
</thead>
<tbody><tr>
<td align="left">gdb filename</td>
<td align="right">开始调试</td>
<td align="center">-</td>
</tr>
<tr>
<td align="left">layout next</td>
<td align="right">可视化界面</td>
<td align="center">-</td>
</tr>
<tr>
<td align="left">run</td>
<td align="right">开始运行</td>
<td align="center">-</td>
</tr>
<tr>
<td align="left">run 1 2 3</td>
<td align="right">开始运行，并传入参数</td>
<td align="center">-</td>
</tr>
<tr>
<td align="left">stepi</td>
<td align="right">运行下一条指令</td>
<td align="center">-</td>
</tr>
<tr>
<td align="left">continue</td>
<td align="right">到下一个断点</td>
<td align="center">-</td>
</tr>
<tr>
<td align="left">info registers</td>
<td align="right">寄存器信息</td>
<td align="center">-</td>
</tr>
</tbody></table>


        

        
            <div class="tags">
                <a class="tag-none-link" href="/tags/Bomb-lab/" rel="tag">Bomb lab</a><a class="tag-none-link" href="/tags/GCC/" rel="tag">GCC</a><a class="tag-none-link" href="/tags/GDB/" rel="tag">GDB</a>
            </div>
        

    </section>
</article>
  
    <article class="post ">

    
        <h2 class="title">
            <a href="/2022/09/11/leetcode496/">
                leetcode496
            </a>
        </h2>
    
    <time>
        Sep 11, 2022
    </time>
    <section class="content">
        <h1><span id="leetcode496next-greater-element-i">Leetcode496.Next Greater Element I</span></h1><p> <a target="_blank" rel="noopener" href="https://leetcode.cn/problems/next-greater-element-i/">leetcode link</a></p>
<h2><span id="record-in-2022x2f9x2f11">record in 2022&#x2F;9&#x2F;11</span></h2><p>Here we only focus on the O(m+n) solution. We scan the nums2 while building up a Monotonic stack. Each time we process a element in nums2, we only need to make sure that our stack is decreasing. And all the processed element need to be either in stack or less than all the element in stack. This kind of prolems is easy to understand but hard to come up with in the first time. The similar problems will be solved quickly in this  <code>Monotonic Stack</code> method.</p>
<h2><span id="code-edtion-2022x2f9x2f11">code edtion: 2022&#x2F;9&#x2F;11</span></h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">class Solution:</span><br><span class="line">    def nextGreaterElement(self, nums1: List[int], nums2: List[int]) -&gt; List[int]:</span><br><span class="line">        stack=[]</span><br><span class="line">        set1=set(nums1)</span><br><span class="line">        stack.append(10**5+1)</span><br><span class="line">        ret=&#123;&#125;</span><br><span class="line">        for item in nums2:</span><br><span class="line">            if(stack[-1]&gt;item):</span><br><span class="line">                if(item in set1):</span><br><span class="line">                    stack.append(item)</span><br><span class="line">            else:</span><br><span class="line">                #Note: Monotonic Stack</span><br><span class="line">                while(stack[-1]&lt;item):</span><br><span class="line">                    ret[stack.pop()]=item</span><br><span class="line">                if(item in set1):</span><br><span class="line">                    stack.append(item)</span><br><span class="line">        res=[]</span><br><span class="line">        for item in nums1:</span><br><span class="line">            res.append(ret.get(item,-1))</span><br><span class="line">        return res</span><br><span class="line"></span><br></pre></td></tr></table></figure>

        

        
            <div class="tags">
                <a class="tag-none-link" href="/tags/Hash-Table/" rel="tag">Hash Table</a><a class="tag-none-link" href="/tags/Monotonic-Stack/" rel="tag">Monotonic Stack</a><a class="tag-none-link" href="/tags/Stack/" rel="tag">Stack</a>
            </div>
        

    </section>
</article>
  
    <article class="post ">

    
        <h2 class="title">
            <a href="/2022/09/08/leetcode337/">
                leetcode337
            </a>
        </h2>
    
    <time>
        Sep 8, 2022
    </time>
    <section class="content">
        <h1><span id="leetcode337house-robber-iii">Leetcode337.House Robber III</span></h1><p> <a target="_blank" rel="noopener" href="https://leetcode.cn/problems/house-robber-iii/">leetcode link</a></p>
<h2><span id="record-in-2022x2f9x2f8">record in 2022&#x2F;9&#x2F;8</span></h2><p>This problem is a combination of <strong>DFS</strong> and <strong>dynamic programming</strong>. The key to solving the problem is to realize that <em><strong>given a root</strong></em>, the maximum value we can get is by deciding to choose or not to choose it. If not to choose, then the current maximum would be the sum of both its child node’s choosing value. If to choose, that means we can still <em><strong>decide</strong></em> whether to choose based on the comparison. We finish the dynamic process by searching the tree from the bottom to the top.</p>
<p>The code is quite simple and straghtforward but the idea is hard to come up with in the first time.</p>
<h2><span id="code-edtion-2022x2f9x2f8">code edtion: 2022&#x2F;9&#x2F;8</span></h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">class Solution:</span><br><span class="line">    def dfs(self,root):</span><br><span class="line">        if not root:</span><br><span class="line">            return (0,0)</span><br><span class="line">        lw,ln=self.dfs(root.left)</span><br><span class="line">        rw,rn=self.dfs(root.right)</span><br><span class="line">        w=max(ln+rn+root.val,lw+rw)</span><br><span class="line">        n=lw+rw</span><br><span class="line">        return (w,n)</span><br><span class="line">    def rob(self, root: Optional[TreeNode]) -&gt; int:</span><br><span class="line">        w,n=self.dfs(root)</span><br><span class="line">        return max(w,n)</span><br></pre></td></tr></table></figure>
<p>P.S. I have been working on binary tree problem for a week. Today I can solve two middle binary tree problem without searching for solution. <em>Huge progress !</em> Actually, there are still 1 middle problem in the top100 to be done. I will finish it all tommorow and also start a new section of topic. Maybe Stack?</p>


        

        
            <div class="tags">
                <a class="tag-none-link" href="/tags/Binary-Tree/" rel="tag">Binary Tree</a><a class="tag-none-link" href="/tags/Depth-First-Search/" rel="tag">Depth-First Search</a>
            </div>
        

    </section>
</article>
  
    <article class="post ">

    
        <h2 class="title">
            <a href="/2022/09/07/backend-learning-graph/">
                backend learning graph
            </a>
        </h2>
    
    <time>
        Sep 7, 2022
    </time>
    <section class="content">
        <p>Start to learn backend development systematically.</p>
<p><a target="_blank" rel="noopener" href="https://roadmap.sh/backend">recommand website1: entire backend learning grpah</a></p>
<p><a target="_blank" rel="noopener" href="https://roadmap.sh/python">recommand website2: python developer</a></p>


        

        
            <div class="tags">
                <a class="tag-none-link" href="/tags/backend/" rel="tag">backend</a><a class="tag-none-link" href="/tags/resource/" rel="tag">resource</a>
            </div>
        

    </section>
</article>
  
    <article class="post ">

    
        <h2 class="title">
            <a href="/2022/09/05/leetcode543/">
                leetcode543
            </a>
        </h2>
    
    <time>
        Sep 5, 2022
    </time>
    <section class="content">
        <h1><span id="leetcode543diameter-of-binary-tree">Leetcode543.Diameter of Binary Tree</span></h1><p> <a target="_blank" rel="noopener" href="https://leetcode.cn/problems/diameter-of-binary-tree/">leetcode link</a></p>
<h2><span id="record-in-2022x2f9x2f5">record in 2022&#x2F;9&#x2F;5</span></h2><p> <a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/2603692/what-is-the-difference-between-tree-depth-and-height">difference bettween <strong>depth</strong> and <strong>height</strong></a></p>
<ul>
<li><p>The depth of a node is the number of edges from the node to the tree’s root node.<br>A root node will have a depth of 0.</p>
</li>
<li><p>The height of a node is the number of edges on the longest path from the node to a leaf.<br>A leaf node will have a height of 0.</p>
</li>
</ul>
<p><strong>depth</strong> and <strong>height</strong> are the basic concept of tree. And <strong>diameter</strong> can actually transfer from the <strong>height</strong>. Given a binary tree. The <strong>diameter</strong> of root can be <em><strong>2+height(root.left)+height(root.right)</strong></em>. </p>
<p>The edge cases can be quite tricky. <em><strong>When the recursion came to the null pointer, the return value can be set to -1</strong></em>. In this case when we encounter the leave node, we implement height+1(-1+1). And that is exactly what we wanted, we want the leave node to be zero.(also the leave diameter).</p>
<h2><span id="code-edtion-2022x2f9x2f5">code edtion: 2022&#x2F;9&#x2F;5</span></h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">class Solution:</span><br><span class="line">    def dfs(self,root):</span><br><span class="line">        #return (diameter,height)</span><br><span class="line">        if not root:</span><br><span class="line">            return (-1,-1)</span><br><span class="line">        lh,ld=self.dfs(root.left)</span><br><span class="line">        rh,rd=self.dfs(root.right)</span><br><span class="line">        height=max(lh,rh)+1</span><br><span class="line">        diameter=lh+rh+2</span><br><span class="line">        if(diameter&gt;self.curmax):</span><br><span class="line">            self.curmax=diameter</span><br><span class="line">        return (height,diameter)</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">    def diameterOfBinaryTree(self, root: Optional[TreeNode]) -&gt; int:</span><br><span class="line">        self.curmax=0</span><br><span class="line">        self.dfs(root)</span><br><span class="line">        return self.curmax</span><br></pre></td></tr></table></figure>

        

        
            <div class="tags">
                <a class="tag-none-link" href="/tags/Binary-Tree/" rel="tag">Binary Tree</a><a class="tag-none-link" href="/tags/Depth-First-Search/" rel="tag">Depth-First Search</a>
            </div>
        

    </section>
</article>
  
    <article class="post ">

    
        <h2 class="title">
            <a href="/2022/09/04/leetcode112-257/">
                leetcode112/257
            </a>
        </h2>
    
    <time>
        Sep 4, 2022
    </time>
    <section class="content">
        <h1><span id="leetcode112x2f257path-sumx2fbinary-tree-paths">Leetcode112&#x2F;257.Path Sum&#x2F;Binary Tree Paths</span></h1><p>  <a target="_blank" rel="noopener" href="https://leetcode.cn/problems/path-sum/">leetcode link 112</a></p>
<p>  <a target="_blank" rel="noopener" href="https://leetcode.cn/problems/binary-tree-paths/">leetcode link 257</a></p>
<h2><span id="record-in-2022x2f9x2f4">record in 2022&#x2F;9&#x2F;4</span></h2><p>Both problems need to do the depth-first search to the binary tree. That’s the result I put them together. Actually it took me for a while to figure out how why my path sum solution don’t work. And it turns out that the variable I used to calculate sum <strong>can’t</strong> be a <strong>gobal variable</strong>. So we can use the function variable to make sure that before and after calling a recursion function, our “sum” stay the same inside the node.</p>
<p>This kind of question follow a template.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">def dfs(root):</span><br><span class="line">    if(not root):</span><br><span class="line">        return </span><br><span class="line">    if( not root.left and  not root.right):</span><br><span class="line">        #do something</span><br><span class="line">    dfs(root.left)</span><br><span class="line">    dfs(root.right)</span><br></pre></td></tr></table></figure>



        

        
            <div class="tags">
                <a class="tag-none-link" href="/tags/Binary-Tree/" rel="tag">Binary Tree</a><a class="tag-none-link" href="/tags/Depth-First-Search/" rel="tag">Depth-First Search</a>
            </div>
        

    </section>
</article>
  
    <article class="post ">

    
        <h2 class="title">
            <a href="/2022/09/02/leetcode110/">
                leetcode110
            </a>
        </h2>
    
    <time>
        Sep 2, 2022
    </time>
    <section class="content">
        <h1><span id="leetcode110balanced-binary-tree">Leetcode110.Balanced Binary Tree</span></h1><p> <a target="_blank" rel="noopener" href="https://leetcode.cn/problems/balanced-binary-tree/">leetcode link</a></p>
<h2><span id="record-in-2022x2f9x2f2">record in 2022&#x2F;9&#x2F;2</span></h2><p>This problem can be divded into solving two pieces of question. The first is to calcute the height of each node. And after that we can implement the judge function on each node to test wether its two children node is balanced. This can cause <strong>a low efficent</strong> and <strong>time-consuming</strong> problem.</p>
<p>When calcuting the height of each node, we use the <em><strong>bottom-up</strong></em> solution. When judging the balance, we have to use the <em><strong>top-down</strong></em> solution. In this case, when run the <strong>judge</strong> function from top to down while using the <strong>get_height</strong> function it will cause each node been visted multiple times(n here). And this will greatly increase our time complexity to O(n^2).</p>
<p>We can use the  <em><strong>bottom-up</strong></em> solution only to handle this problem and reduce the time complexity to O(n). When calculate the height, we can also return each node’s balance statue. In other word, we can return a <strong>tuple</strong>. And each time we run the judge funtion on children node, we will get the height of the children nodes while using them to calculate the difference. And using logic <code>AND</code> combing two status to return the node’s status.</p>
<h2><span id="code-edtion-2022x2f9x2f2">code edtion: 2022&#x2F;9&#x2F;2</span></h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">class Solution:</span><br><span class="line">    def get_height(self,root):</span><br><span class="line">    #not used in the current implement of code</span><br><span class="line">        if(root ==  None):</span><br><span class="line">            return True</span><br><span class="line">        else:</span><br><span class="line">            return max(self.get_height(root.left),self.get_height(root.right))+1</span><br><span class="line">    def judge(self,node):</span><br><span class="line">        if(node ==  None):</span><br><span class="line">            return (0,True)</span><br><span class="line">        lh,lb=self.judge(node.left)</span><br><span class="line">        rh,rb=self.judge(node.right)</span><br><span class="line">        if(abs(lh-rh)&gt;1):</span><br><span class="line">            return (max(lh,rh)+1,False)</span><br><span class="line">        else:</span><br><span class="line">            return (max(lh,rh)+1,lb and rb)</span><br><span class="line">        # abs(self.get_height(node.left)-self.get_height(node.right))</span><br><span class="line">        # if(abs(self.get_height(node.left)-self.get_height(node.right))&amp;lt=1):</span><br><span class="line">        #     return self.judge(node.left) and self.judge(node.right)</span><br><span class="line">        # else:</span><br><span class="line">        #     return False</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    def isBalanced(self, root: Optional[TreeNode]) -&gt; bool:</span><br><span class="line">        return self.judge(root)[-1]</span><br></pre></td></tr></table></figure>



        

        
            <div class="tags">
                <a class="tag-none-link" href="/tags/Binary-Tree/" rel="tag">Binary Tree</a><a class="tag-none-link" href="/tags/Depth-First-Search/" rel="tag">Depth-First Search</a>
            </div>
        

    </section>
</article>
  
</section>


  <nav id="page-nav" class="clearfix">
    
    
    <a class="next" rel="next" href="/archives/2022/09/page/2/">
      <span class="text">Next</span>
      <span class="icon icon-chevron-right"></span>
    </a>
    
  </nav>


        <script>setLoadingBarProgress(60);</script>
    </main>

    <footer id="footer" class="clearfix">

    

    <div class="social-wrapper">
        
            
                <a href="https://github.com/artchen" class="social github"
                   target="_blank" rel="external">
                    <span class="icon icon-github"></span>
                </a>
            
                <a href="/atom.xml" class="social rss"
                   target="_blank" rel="external">
                    <span class="icon icon-rss"></span>
                </a>
            
        
    </div>

    <div class="theme-by">Theme <span class="codename">Memory</span> designed by <a href="https://artifact.me/"
                                                                                    target="_blank">Art Chen</a>.
    </div>
    <div>&copy; <a href="/">Jelly&#39;s TechBlog</a></div>

</footer>


    <script>setLoadingBarProgress(80);</script>
    <div class="overlay"></div>
</div>

<div class="site-sidebar" id="site-sidebar">

    

    <div class="sidebar-switch clearfix "
         style="display: none">
        <a class="dark-btn active" data-toggle="toc">
            <span class="icon icon-list"></span>
            <span class="text">Index</span>
        </a>
        <a class="dark-btn" data-toggle="bio">
            <span class="icon icon-person"></span>
            <span class="text">Bio</span>
        </a>
    </div>

    <div class="site-toc "
         style="display: none">
        
            <div class="no-index">No Index</div>
        
    </div>

    <div class="site-bio show"
         style="display: block">

        <div class="about-me clearfix">
            <div class="avatar">
                <img src="/img/avatar.png"/>
            </div>
            <div class="info">
                <a class="name dark-btn" href="/about">
                    Jelly Chan
                </a>
            </div>
            <div class="info">
                <span class="item desc">
                    
                </span>
            </div>
        </div>

        <div class="menu section">
            <ul class="clearfix">
                
                    <li class="left">
                        <a href="/about"
                           onfocus="this.blur();"
                           class="nav-about dark-btn block">
                            About
                        </a>
                    </li>
                
                    <li class="right">
                        <a href="/archives"
                           onfocus="this.blur();"
                           class="nav-archives dark-btn block">
                            Archives
                        </a>
                    </li>
                
            </ul>
        </div>

    </div>

    <div class="shortcuts">
        <a href="#header" class="top window-nav dark-btn" id="go-top">
            <span class="icon icon-chevron-thin-up"></span>
        </a>
        <a class="close dark-btn" id="sidebar-close">
            <span class="icon icon-close"></span>
        </a>
        <a href="#footer" class="top window-nav dark-btn" id="go-bottom">
            <span class="icon icon-chevron-thin-down"></span>
        </a>
    </div>

</div>


    <script>
      var disqus_shortname = 'myname';
      
      (function () {
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>




<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<script>window.jQuery || document.write('<script src="/js/jquery.min.js"><\/script>')</script>


<script src="/js/jquery.fitvids.js"></script>

<script>
  var GOOGLE_CUSTOM_SEARCH_API_KEY = "";
  var GOOGLE_CUSTOM_SEARCH_ENGINE_ID = "";
  var ALGOLIA_API_KEY = "";
  var ALGOLIA_APP_ID = "";
  var ALGOLIA_INDEX_NAME = "";
  var AZURE_SERVICE_NAME = "";
  var AZURE_INDEX_NAME = "";
  var AZURE_QUERY_KEY = "";
  var SEARCH_SERVICE = "";
  var universalSearchConfig = {};
  if (SEARCH_SERVICE === 'google') {
    universalSearchConfig = {
      searchService: SEARCH_SERVICE,
      apiKey: GOOGLE_CUSTOM_SEARCH_API_KEY,
      engineId: GOOGLE_CUSTOM_SEARCH_ENGINE_ID,
      imagePath: "/img/"
    };
  } else if (SEARCH_SERVICE === 'algolia') {
    universalSearchConfig = {
      searchService: SEARCH_SERVICE,
      apiKey: ALGOLIA_API_KEY,
      appId: ALGOLIA_APP_ID,
      indexName: ALGOLIA_INDEX_NAME,
      imagePath: "/img/"
    };
  } else if (SEARCH_SERVICE === 'azure') {
    universalSearchConfig = {
      searchService: SEARCH_SERVICE,
      serviceName: AZURE_SERVICE_NAME,
      indexName: AZURE_INDEX_NAME,
      apiKey: AZURE_QUERY_KEY,
      imagePath: "/img/"
    };
  }
</script>

<script src="/js/app.js"></script>


<script src="/js/search.js"></script>





<script>setLoadingBarProgress(100);</script>

</body>
</html>
